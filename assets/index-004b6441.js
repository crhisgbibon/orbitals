(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))e(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const d of i.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&e(d)}).observe(document,{childList:!0,subtree:!0});function t(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function e(n){if(n.ep)return;n.ep=!0;const i=t(n);fetch(n.href,i)}})();function v(){let a=window.innerHeight*.01;document.documentElement.style.setProperty("--vh",a+"px")}window.addEventListener("DOMContentLoaded",v);window.addEventListener("resize",v);window.addEventListener("orientationchange",v);class D{constructor(s,t){this.x=s,this.y=t}}class c{constructor(s,t,e,n,i,d,r,h,l){this.index=s,this.radius=t,this.x=e,this.y=n,this.vx=i,this.vy=d,this.mass=r,this.colour=h,this.colourString="rgba("+h[0]+","+h[1]+","+h[2]+", 1)",this.fixed=l}}class Y{constructor(s,t){this.width=s,this.height=t,this.bodies=[],this.iterator=void 0,this.g=6674e-7,this.direction=void 0,this.info=void 0,this.offsetX=0,this.offsetY=0,this.startPos=new D,this.endPos=new D,this.scale=1}Start(){this.direction=p.checked,this.info=m.checked,this.bodies.length=0,this.AddBodies(parseInt(T[T.selectedIndex].value)),this.Draw()}AddBodies(s){if(s===1){let t=new c(1,10,this.width/2-100,this.height/2,0,-1,1e3,[233,189,21],!1);this.bodies.push(t),t=new c(2,10,this.width/2+100,this.height/2,0,1,1e3,[233,189,21],!1),this.bodies.push(t)}if(s===2){let t=this.width/2,e=this.height/2,n=250,i=new c(1,30,t,e,0,0,1e5,[233,189,21],!0);this.bodies.push(i),this.DegreeToRad(120),i=new c(2,10,t-n,e,0,-3,1e3,[233,189,21],!1),this.bodies.push(i),this.DegreeToRad(240),i=new c(3,10,t+n,e,0,3,1e3,[233,189,21],!1),this.bodies.push(i)}if(s===3){let t=this.width/2,e=this.height/2,n=250,i=new c(1,30,t,e,0,0,1e5,[233,189,21],!0);this.bodies.push(i),this.DegreeToRad(120),i=new c(2,10,t-n/2,e,0,-2.5,1e3,[233,189,21],!1),this.bodies.push(i),this.DegreeToRad(240),i=new c(3,5,t+n*1.5,e,0,5,500,[233,189,21],!1),this.bodies.push(i)}if(s===4){let t=this.width/2,e=this.height/2,n=250,i=new c(1,30,t,e,0,0,1e5,[233,189,21],!0);this.bodies.push(i),this.DegreeToRad(120),i=new c(2,10,t-n,e,0,-5,1e3,[233,189,21],!1),this.bodies.push(i),this.DegreeToRad(240),i=new c(3,5,t+n/2,e,0,2.5,500,[233,189,21],!1),this.bodies.push(i)}if(s===5){let t=this.width/2,e=this.height/2,n=200,i=200,d=new c(1,30,t,e,0,0,1e5,[233,189,21],!0);this.bodies.push(d);let r=this.DegreeToRad(0),h=t+i*Math.cos(r),l=e+i*Math.sin(r);d=new c(2,10,h,l,0,5,1e3,[233,189,21],!1),this.bodies.push(d),r=this.DegreeToRad(90),h=t+n*Math.cos(r),l=e+n*Math.sin(r),d=new c(3,10,h,l,-5,0,1e3,[233,189,21],!1),this.bodies.push(d),r=this.DegreeToRad(180),h=t+i*Math.cos(r),l=e+i*Math.sin(r),d=new c(4,10,h,l,0,-5,1e3,[233,189,21],!1),this.bodies.push(d),r=this.DegreeToRad(270),h=t+i*Math.cos(r),l=e+i*Math.sin(r),d=new c(5,10,h,l,5,0,1e3,[233,189,21],!1),this.bodies.push(d)}if(s===6){let t=this.width/2,e=this.height/2,n=100,i=250,d=550,r=700,h=new c(1,40,t,e,0,0,1e7,[233,189,21],!0);this.bodies.push(h);let l=this.DegreeToRad(0),f=t+n*Math.cos(l),y=e+n*Math.sin(l);h=new c(2,5,f,y,0,2.5,500,[233,189,21],!1),this.bodies.push(h),l=this.DegreeToRad(90),f=t+i*Math.cos(l),y=e+i*Math.sin(l),h=new c(3,15,f,y,-7.5,0,1500,[233,189,21],!1),this.bodies.push(h),l=this.DegreeToRad(180),f=t+d*Math.cos(l),y=e+d*Math.sin(l),h=new c(4,2.5,f,y,0,-15,250,[233,189,21],!1),this.bodies.push(h),l=this.DegreeToRad(270),f=t+r*Math.cos(l),y=e+r*Math.sin(l),h=new c(5,10,f,y,7.5,0,750,[233,189,21],!1),this.bodies.push(h)}if(s===7){let t=this.width/2,e=this.height/2,n=200,i=400,d=800,r=1600,h=3200,l=new c(1,30,t,e,0,0,1e7,[233,189,21],!0);this.bodies.push(l);let f=this.DegreeToRad(0),y=t+n*Math.cos(f),w=e+n*Math.sin(f);l=new c(2,5,y,w,0,2.5,100,[233,189,21],!1),this.bodies.push(l),f=this.DegreeToRad(0),y=t+i*Math.cos(f),w=e+i*Math.sin(f),l=new c(3,5,y,w,0,5,100,[233,189,21],!1),this.bodies.push(l),f=this.DegreeToRad(0),y=t+d*Math.cos(f),w=e+d*Math.sin(f),l=new c(4,5,y,w,0,7.5,100,[233,189,21],!1),this.bodies.push(l),f=this.DegreeToRad(0),y=t+r*Math.cos(f),w=e+r*Math.sin(f),l=new c(5,5,y,w,0,10,100,[233,189,21],!1),this.bodies.push(l),f=this.DegreeToRad(0),y=t+h*Math.cos(f),w=e+h*Math.sin(f),l=new c(5,5,y,w,0,12.5,100,[233,189,21],!1),this.bodies.push(l)}}DegreeToRad(s){return s*(Math.PI/180)}Toggle(){this.iterator===null||this.iterator===void 0?this.Iterate():this.Pause()}Iterate(){clearInterval(this.iterator),this.iterator=setInterval(()=>{this.Update()},16)}Pause(){clearInterval(this.iterator),this.iterator=null}Update(){this.Gravity(),this.Collisions(),this.Move(),this.Draw()}Gravity(){let s=this.bodies.length;for(let t=0;t<s;t++){let e=this.bodies[t];if(!e.fixed)for(let n=0;n<s;n++){if(n===t)continue;let i=this.bodies[n],d={x:i.x-e.x,y:i.y-e.y},r=Math.sqrt((i.x-e.x)*(i.x-e.x)+(i.y-e.y)*(i.y-e.y)),h={x:d.x/r,y:d.y/r},l=this.g*(e.mass*i.mass/(r*r));l>.1&&(l=.1),e.vx+=l*h.x,e.vy+=l*h.y}}}Collisions(){let s,t,e=this.bodies.length;for(let n=0;n<e;n++)if(s=this.bodies[n],!s.fixed){for(let i=0;i<this.bodies.length;i++)if(i!=n&&(t=this.bodies[i],this.CircleIntersect(s.x,s.y,s.radius,t.x,t.y,t.radius))){let d={x:t.x-s.x,y:t.y-s.y},r=Math.sqrt((t.x-s.x)*(t.x-s.x)+(t.y-s.y)*(t.y-s.y)),h={x:d.x/r,y:d.y/r},l={x:s.vx-t.vx,y:s.vy-t.vy},f=l.x*h.x+l.y*h.y;if(f<0)break;let y=2*f/(s.mass+t.mass);s.vx-=y*t.mass*h.x,s.vy-=y*t.mass*h.y,t.vx+=y*s.mass*h.x,t.vy+=y*s.mass*h.y}}}CircleIntersect(s,t,e,n,i,d){return(s-n)*(s-n)+(t-i)*(t-i)<=(e+d)*(e+d)}Move(){let s=this.bodies.length;for(let t=0;t<s;t++){let e=this.bodies[t];e.fixed||(e.x+=e.vx,e.y+=e.vy)}}Draw(){u.clearRect(0,0,this.width,this.height),u.stroke(),u.fillStyle="rgba(50, 50, 75)",u.fillRect(0,0,this.width,this.height);let s=this.bodies.length;for(let t=0;t<s;t++){let e=this.bodies[t];if(u.fillStyle!=e.colourString&&(u.fillStyle=e.colourString),u.beginPath(),u.arc((e.x+this.offsetX)*this.scale,(e.y+this.offsetY)*this.scale,e.radius*this.scale,0,2*Math.PI),u.fill(),this.direction){u.strokeStyle=e.colourString,u.beginPath();let n=e.vx*10*this.scale,i=e.vy*10*this.scale;u.moveTo((e.x+this.offsetX)*this.scale,(e.y+this.offsetY)*this.scale),u.lineTo((e.x+n+this.offsetX)*this.scale,(e.y+i+this.offsetY)*this.scale),u.stroke()}if(this.info){u.fillStyle=e.colourString,u.fillText("body "+e.index,(e.x+e.radius+5+this.offsetX)*this.scale,(e.y-30/this.scale+this.offsetY)*this.scale),u.fillText("mass: "+e.mass,(e.x+e.radius+5+this.offsetX)*this.scale,(e.y-20/this.scale+this.offsetY)*this.scale),u.fillText("radius: "+e.radius,(e.x+e.radius+5+this.offsetX)*this.scale,(e.y-10/this.scale+this.offsetY)*this.scale),u.fillText("x: "+e.x.toFixed(4),(e.x+e.radius+5+this.offsetX)*this.scale,(e.y+this.offsetY)*this.scale),u.fillText("y: "+e.y.toFixed(4),(e.x+e.radius+5+this.offsetX)*this.scale,(e.y+10/this.scale+this.offsetY)*this.scale);let n=e.vx.toFixed(4);e.fixed&&(n="fixed"),u.fillText("vx: "+n,(e.x+e.radius+5+this.offsetX)*this.scale,(e.y+20/this.scale+this.offsetY)*this.scale);let i=e.vy.toFixed(4);e.fixed&&(i="fixed"),u.fillText("vy: "+i,(e.x+e.radius+5+this.offsetX)*this.scale,(e.y+30/this.scale+this.offsetY)*this.scale)}}}Drag(){let s=this.endPos.x-this.startPos.x,t=this.endPos.y-this.startPos.y;this.offsetX+=s/this.scale,this.offsetY+=t/this.scale}ResetView(){this.offsetX=0,this.offsetY=0,this.scale=1}}const P=document.getElementById("startButton");document.getElementById("playPauseButton");const X=document.getElementById("viewButton"),k=document.getElementById("resetButton"),E=document.getElementById("nextButton"),C=document.getElementById("optionsButton"),b=document.getElementById("settingsMenu"),S=document.getElementById("generateButton"),x=document.getElementById("gameContainer"),B=document.getElementById("gameDiv"),g=document.getElementById("gameCanvas"),u=g.getContext("2d"),T=document.getElementById("schemaSelect"),p=document.getElementById("checkDirection"),m=document.getElementById("checkInfo");P.onclick=function(){o!==null&&o.Toggle()};X.onclick=function(){o!==null&&o.ResetView()};k.onclick=function(){M()};C.onclick=function(){L()};S.onclick=function(){M()};p.onchange=function(){o!==null&&(o.direction=p.checked)};m.onchange=function(){o!==null&&(o.info=m.checked)};E.onclick=function(){o.Pause(),o.Update()};let o=null,R=!1;function M(){I();let a=parseInt(g.width),s=parseInt(g.height);o!==null&&o.Pause(),o=new Y(a,s),o.Start(),b.style.display="none"}function L(){b.style.display===""?b.style.display="none":b.style.display=""}function I(){x.width=window.innerWidth*.9,x.height=window.innerHeight*.9*.9,B.width=window.innerWidth*.9,B.height=window.innerHeight*.9*.9,g.width=window.innerWidth*.9,g.height=window.innerHeight*.9*.9,u.width=window.innerWidth*.9,u.height=window.innerHeight*.9*.9,o!=null&&(o.width=x.scrollWidth,o.height=x.scrollHeight,o.Draw())}document.onkeydown=function(a){a.key==="u"&&o.Update(),a.key==="p"&&o.Pause(),a.key==="i"&&o.Iterate(),(a.key==="="||a.key==="+")&&o.scale>.05&&(o.scale-=.05,o.scale=Math.round(o.scale*100)/100),(a.key==="-"||a.key==="_")&&o.scale<10&&(o.scale+=.05,o.scale=Math.round(o.scale*100)/100)};document.onwheel=function(a){a.deltaY>0&&o.scale>0&&(o.scale-=.05,o.scale=Math.round(o.scale*100)/100,o.offsetX+=55/o.scale,o.offsetY+=45/o.scale),a.deltaY<0&&o.scale<10&&(o.scale+=.05,o.scale=Math.round(o.scale*100)/100,o.offsetX-=55/o.scale,o.offsetY-=45/o.scale)};g.onmousedown=function(a){a.preventDefault();let s=g.getBoundingClientRect(),t=a.clientX-s.left,e=a.clientY-s.top;o!==null&&(o.startPos.x=t,o.startPos.y=e,R=!0)};g.onmousemove=function(a){if(a.preventDefault(),!R)return;let s=g.getBoundingClientRect(),t=a.clientX-s.left,e=a.clientY-s.top;o!==null&&(o.endPos.x=t,o.endPos.y=e,o.Drag(),o.startPos.x=t,o.startPos.y=e)};g.onmouseup=function(a){a.preventDefault();let s=g.getBoundingClientRect(),t=a.clientX-s.left,e=a.clientY-s.top;o!==null&&(o.endPos.x=t,o.endPos.y=e,o.Drag(),R=!1)};window.addEventListener("resize",I);document.addEventListener("DOMContentLoaded",M);
